<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«æ˜Ÿå•†åœˆ 2026 æ˜¥é…’ - æ™‚ç©ºæ ¡åœ’æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .bg-grid {
            background-image: radial-gradient(#d1d5db 1px, transparent 1px);
            background-size: 24px 24px;
        }
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .result-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); }
    </style>
</head>
<body class="bg-grid min-h-screen flex flex-col items-center p-4 md:p-10 text-slate-800">

    <div id="app" class="max-w-xl w-full result-card rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/50">
        <!-- Progress -->
        <div id="progress-container" class="w-full h-1.5 bg-slate-200 hidden">
            <div id="progress-bar" class="h-full bg-orange-500 transition-all duration-500" style="width: 0%"></div>
        </div>

        <div id="content-area" class="p-8 md:p-12">
            <!-- å‹•æ…‹æ³¨å…¥å…§å®¹ -->
        </div>
    </div>

    <!-- Registration Floating Info -->
    <div id="bottom-info" class="mt-6 text-center text-slate-400 text-xs font-bold space-y-1">
        <p>ç«æ˜Ÿå•†åœˆ 2026 æ˜¥é…’æ´¾å° ğŸ“… 3/14 (å…­)</p>
        <p>åœ°é»ï¼šæ½®æ¸¯åŸåœ‹éš›ç¾é£Ÿé¤¨</p>
    </div>

    <script>
        const apiKey = ""; 

        let state = {
            step: 'welcome',
            currentQuestion: 0,
            answers: [],
            finalResult: null
        };

        const questions = [
            {
                text: "å¦‚æœèƒ½é¸æ“‡ä¸€å€‹è¶…èƒ½åŠ›ä¾†åº¦éæ ¡åœ’ç”Ÿæ´»ï¼Œä½ æœƒé¸ï¼Ÿ",
                options: [
                    { text: "éç›®ä¸å¿˜çš„è¨˜æ†¶åŠ›", trait: "academic" },
                    { text: "ç¬é–“ç§»å‹•ï¼ˆä¸æ€•é²åˆ°æˆ–è¶•å ´ï¼‰", trait: "sporty" },
                    { text: "è®€å¿ƒè¡“ï¼ˆçœ‹é€ç¤¾äº¤åœˆçš„ç§˜å¯†ï¼‰", trait: "social" },
                    { text: "èƒ½å°‡æƒ³åƒåŠ›å…·ç¾åŒ–çš„ç•«ç­†", trait: "artistic" }
                ]
            },
            {
                text: "åœ¨æ ¡åœ’ç¥­å…¸ä¸­ï¼Œä½ é€šå¸¸è² è²¬ä»€éº¼è·å‹™ï¼Ÿ",
                options: [
                    { text: "ä¼åŠƒèˆ‡é ç®—æ§ç®¡", trait: "academic" },
                    { text: "æ¬é‹é‡ç‰©èˆ‡å ´åœ°ä½ˆç½®", trait: "sporty" },
                    { text: "èˆå°è¡¨æ¼”æˆ–ä¸»æŒå¸¶æ°£æ°›", trait: "social" },
                    { text: "æµ·å ±è¨­è¨ˆèˆ‡ç¾æ„Ÿç›£ç£", trait: "artistic" }
                ]
            },
            {
                text: "æœ€è®“ä½ å¿ƒå‹•çš„æ ¡åœ’å ´æ™¯æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ”¾å­¸å¾Œå®‰éœçš„åœ–æ›¸é¤¨è§’è½", trait: "academic" },
                    { text: "å¤•é™½è¥¿ä¸‹çš„ç†±è¡€æ“å ´", trait: "sporty" },
                    { text: "æ“ æ»¿ç¬‘è²çš„ä¸‹èª²èµ°å»Š", trait: "social" },
                    { text: "å †æ»¿è—è¡“å“çš„ç¤¾åœ˜æ´»å‹•å®¤", trait: "artistic" }
                ]
            },
            {
                text: "è€å¸«çªç„¶å®£å¸ƒè¦æŠ½è€ƒï¼Œä½ çš„åæ‡‰æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ²’å•é¡Œï¼Œæˆ‘æ˜¨æ™šå‰›å¥½è¤‡ç¿’é", trait: "academic" },
                    { text: "è¶äº‚æºœå‡ºå»ç·´çƒå¥½äº†", trait: "sporty" },
                    { text: "å‚³ç°¡è¨Šå•åŒå­¸æœ‰æ²’æœ‰é‡é»", trait: "social" },
                    { text: "åœ¨èª²æœ¬é‚Šç·£ç•«èµ·è€å¸«çš„ç´ æ", trait: "artistic" }
                ]
            },
            {
                text: "ç•¢æ¥­æ—…è¡Œä½ æœ€æƒ³å»çš„åœ°æ–¹æ˜¯ï¼Ÿ",
                options: [
                    { text: "ä¸–ç•Œåæ ¡çš„å­¸è¡“å·¡ç¦®", trait: "academic" },
                    { text: "å……æ»¿æŒ‘æˆ°æ€§çš„æˆ¶å¤–å†’éšªç‡Ÿ", trait: "sporty" },
                    { text: "æœ€ç¹è¯çš„ä¸»é¡Œæ¨‚åœ’ç‹‚æ­¡", trait: "social" },
                    { text: "å¯Œæœ‰æ–‡è—æ°£æ¯çš„å¤è€åŸé®", trait: "artistic" }
                ]
            }
        ];

        // éš¨æ©Ÿå¹´ä»£åº«
        const eras = {
            academic: [
                {
                    era: "å¤ä»£äºæ´²æ›¸é™¢",
                    outfit: "å‚³çµ±æ¼¢æœå­¸å­æœã€ç¶¸å·¾ã€ç«¹ç°¡é…é£¾ã€å¸ƒé‹ã€‚å±•ç¾å¤ä»£æ–‡äººå¢¨å®¢çš„å„’é›…æ°£æ¯ã€‚",
                    prompt: "A realistic cinematic portrait of a young male scholar in ancient China, wearing a traditional light blue Hanfu academy robe and a scholar hat, holding a bamboo scroll, standing in a traditional courtyard library, sunlight filtering through bamboo trees, 8k resolution, highly detailed fabric texture."
                },
                {
                    era: "1920s è‹±åœ‹åŠæ©‹èè‹±",
                    outfit: "ç²—èŠ±å‘¢è¥¿è£å¤–å¥—ã€é‡ç¹”èƒŒå¿ƒã€æ‡·éŒ¶ã€åœ“æ¡†çœ¼é¡ã€‚æ•£ç™¼æ²‰ç©©çš„è‹±å€«å­¸è¡“é¢¨ç¯„ã€‚",
                    prompt: "A realistic fashion portrait of a student in 1920s Oxford University, tweed blazer, knit vest with tie, round glasses, dark trousers, carrying a leather briefcase, standing in a gothic stone cloister, moody academic lighting, photorealistic, 8k."
                },
                {
                    era: "è¿‘æœªä¾† è³½åšæ ¡åœ’",
                    outfit: "ä¿è½çš„æ©Ÿèƒ½é¢¨åˆ¶æœã€ç™¼å…‰ç·šæ¢é…é£¾ã€ç§‘æŠ€æ„Ÿå¹³ç‰ˆé›»è…¦ã€‚å±•ç¾ç¾ä»£å­¸éœ¸çš„å†·éœæ„Ÿã€‚",
                    prompt: "A futuristic cyber high school student, tech-wear uniform with subtle glowing neon accents, smart glasses, sleek minimalist classroom with holographic displays, cool blue lighting, high fashion photography, photorealistic skin."
                }
            ],
            sporty: [
                {
                    era: "1980s ç¾å¼æ ¡åœ’ç†±è¡€",
                    outfit: "å¯¬å¤§è‚©å¢Šçš„æ£’çƒå¤–å¥—ã€æ¢ç´‹è­·è…•ã€é«˜ç­’ç™½è¥ªã€å¾©å¤è·‘é‹ã€‚å±•ç¾å¾©å¤ç¾å¼çš„é™½å…‰æ´»åŠ›ã€‚",
                    prompt: "A photorealistic 1980s American high school athlete, wearing a yellow and blue varsity jacket with leather sleeves, retro high-top sneakers, classic gym locker background, warm film grain aesthetic, sunny lighting, 8k."
                },
                {
                    era: "å¤§æ­£æµªæ¼« åŠé“å°‘å¹´/å°‘å¥³",
                    outfit: "è¢´ï¼ˆHakamaï¼‰ã€å‚³çµ±æ ¡æœä¸Šè¡£ã€ç«¹åŠã€æ‰‹å·¾ã€‚å±•ç¾æ­¦å£«ç²¾ç¥èˆ‡é’æ˜¥çš„èåˆã€‚",
                    prompt: "A stunning photorealistic portrait of a Taisho era student in Japan, wearing a black Hakama and white top, holding a kendo sword, standing under a cherry blossom tree near a traditional wooden school building, nostalgic sunset lighting, 8k."
                },
                {
                    era: "å¤å¸Œè‡˜ å¥§æ—åŒ¹äºå­¸é™¢",
                    outfit: "çŸ­è¢ï¼ˆChitonï¼‰ã€æœˆæ¡‚å† ã€çš®é©æ¶¼é‹ã€æŸè…°ã€‚å±•ç¾æœ€åŸå§‹çš„é«”è‚²åŠ›é‡ç¾ã€‚",
                    prompt: "A realistic depiction of an ancient Greek academy athlete, wearing a simple white linen chiton, a laurel wreath on head, holding a discus, classical marble columns in background, bright Mediterranean sunlight, cinematic 8k."
                }
            ],
            social: [
                {
                    era: "90s æµè¡Œå°–ç«¯å­¸ç”Ÿ",
                    outfit: "æ ¼ç´‹ç™¾è¤¶è£™æˆ–å¯¬é¬†ç‰›ä»”è¤²ã€é®®è‰·çš„é€£å¸½è¡«ã€å¤§å‹è€³æ©Ÿã€è‰²å½©é®®è‰·çš„å¸†å¸ƒé‹ã€‚",
                    prompt: "A photorealistic 1990s pop culture high school student, colorful oversized hoodie, baggy jeans, chunky sneakers, bright backpack, school hallway background with posters, sharp focus, vibrant 90s color palette, 8k."
                },
                {
                    era: "ç¶­å¤šåˆ©äº è²´æ—å­¸æ ¡",
                    outfit: "ç²¾ç·»çš„å¤©éµçµ¨å¤–å¥—ã€è•¾çµ²é ˜å£ã€çµ²çµ¨å¸½å­ã€çš®é©æ‰‹å¥—ã€‚å±•ç¾æ¥µè‡´çš„ç¤¾äº¤å„ªé›…ã€‚",
                    prompt: "A high-end realistic portrait of a Victorian era elite school student, velvet blazer with intricate embroidery, lace collar, elegant top hat, grand ballroom background with chandeliers, classical oil painting lighting, 8k resolution."
                },
                {
                    era: "ç¾ä»£ åŸå®¿è¡—é ­æ ¡åœ’",
                    outfit: "å‰è¡›çš„èª‡å¼µé£¾å“ã€æ··æ­åˆ¶æœå¤–å¥—ã€å¤šå±¤æ¬¡ç©¿æ­ã€åšåº•é‹ã€‚å±•ç¾ä¸è¢«å®šç¾©çš„ç¤¾äº¤é­…åŠ›ã€‚",
                    prompt: "A trendy Harajuku street style student, modified school uniform with neon accessories and patches, multi-layered fashion, colorful hair, busy Tokyo street background at night, neon lights, high fashion editorial look, 8k."
                }
            ],
            artistic: [
                {
                    era: "æ–‡è—å¾©èˆˆ ç•«å®¤å­¸å¾’",
                    outfit: "å¯¬é¬†çš„äºéº»é•·è¡«ã€ç•«å®¶å¸½ã€æ²¾æœ‰é¡æ–™çš„åœè£™ã€ç‚­ç­†ã€‚å……æ»¿è—è¡“æ°£æ¯çš„å·¥åŒ éˆé­‚ã€‚",
                    prompt: "A realistic portrait of a Renaissance art apprentice, linen smock with paint stains, a beret, holding a wooden palette and brushes, dusty light-filled studio with statues and canvases, warm historical atmosphere, 8k."
                },
                {
                    era: "1960s å¬‰çš®è—è¡“ç³»",
                    outfit: "å°èŠ±å–‡å­è¤²ã€ç´®æŸ“è¥¯è¡«ã€ç·¨ç¹”é«®å¸¶ã€æ³¢è¥¿ç±³äºé¢¨é…é£¾ã€‚å±•ç¾è¿½æ±‚è‡ªç”±èˆ‡ç¾çš„éˆé­‚ã€‚",
                    prompt: "A 1960s bohemian artistic student, tie-dye shirt, flared pants, beaded necklaces, headband, playing an acoustic guitar on a grassy campus lawn, vintage film look, warm sun flare, photorealistic, 8k."
                },
                {
                    era: "å·´é» æµªæ¼«æ–‡è—é¢¨",
                    outfit: "é•·ç‰ˆé¢¨è¡£ã€æ¢ç´‹ä¸Šè¡£ã€é»‘è‰²è²é›·å¸½ã€ç´ ææœ¬ã€‚å±•ç¾å„ªé›…ä¸”æ·±é‚ƒçš„è—è¡“æ„Ÿã€‚",
                    prompt: "A chic Parisian art student, trench coat, striped shirt, black beret, holding a sketchbook, standing in front of the Eiffel Tower, overcast soft lighting, elegant fashion photography style, 8k."
                }
            ]
        };

        function render() {
            const container = document.getElementById('content-area');
            const progress = document.getElementById('progress-container');
            const progressBar = document.getElementById('progress-bar');

            if (state.step === 'welcome') {
                container.innerHTML = `
                    <div class="text-center fade-in">
                        <div class="w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner">
                            <span class="text-4xl">ğŸš€</span>
                        </div>
                        <h1 class="text-3xl font-black text-slate-900 mb-2 tracking-tighter">ç«æ˜Ÿå•†åœˆ 2026 æ˜¥é…’</h1>
                        <h2 class="text-xl text-orange-600 font-bold mb-8">æ™‚ç©ºæ ¡åœ’ãƒ»Dress Code æ¸¬é©—</h2>
                        <div class="bg-white rounded-3xl p-6 text-left mb-10 shadow-sm border border-slate-100 text-slate-500 leading-relaxed">
                            æ­¡è¿é€²å…¥ã€Œæ™‚ç©ºæ ¡åœ’ã€å¯¦é©—å®¤ã€‚é€™æ¬¡æ˜¥é…’ Dress Code æ˜¯æ ¡åœ’é¢¨ï¼Œä½†æˆ‘å€‘è¦ç©å¾—ä¸ä¸€æ¨£ï¼<br><br>
                            é€éæ¸¬é©—ï¼Œç³»çµ±å°‡æ ¹æ“šä½ çš„éˆé­‚ç‰¹è³ªï¼Œå¾**å¤ä»Šä¸­å¤–ä¸åŒæ™‚ç©º**ä¸­ç‚ºä½ åŒ¹é…æœ€ç¨ç‰¹çš„è¿”æ ¡ç©¿æ­ã€‚
                        </div>
                        <button onclick="startQuiz()" class="w-full py-5 bg-orange-500 hover:bg-orange-600 text-white rounded-[1.5rem] font-black text-xl shadow-lg transition-transform hover:-translate-y-1 active:scale-95">
                            é€²å…¥æ™‚ç©ºéš§é“
                        </button>
                    </div>
                `;
            } else if (state.step === 'quiz') {
                progress.classList.remove('hidden');
                const q = questions[state.currentQuestion];
                progressBar.style.width = `${((state.currentQuestion + 1) / questions.length) * 100}%`;
                
                container.innerHTML = `
                    <div class="fade-in">
                        <p class="text-xs font-black text-orange-500 mb-2 uppercase tracking-widest">Question ${state.currentQuestion + 1}</p>
                        <h3 class="text-2xl font-black text-slate-800 mb-10 leading-tight">${q.text}</h3>
                        <div class="space-y-4">
                            ${q.options.map((opt, i) => `
                                <button onclick="handleAnswer('${opt.trait}')" class="w-full text-left p-6 rounded-2xl border-2 border-slate-100 hover:border-orange-500 hover:bg-orange-50 transition-all font-bold text-lg text-slate-600 hover:text-orange-700 flex justify-between items-center group">
                                    ${opt.text}
                                    <span class="opacity-0 group-hover:opacity-100 transition-opacity">â†’</span>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (state.step === 'result') {
                progress.classList.add('hidden');
                const result = state.finalResult;
                
                container.innerHTML = `
                    <div class="fade-in text-center">
                        <span class="text-xs font-black bg-slate-900 text-white px-4 py-1 rounded-full uppercase tracking-widest">åŒ¹é…æ™‚ç©ºæª”æ¡ˆ</span>
                        <h3 class="text-4xl font-black text-slate-900 mt-6 mb-2">${result.title}</h3>
                        <p class="text-orange-600 font-bold text-lg mb-8 italic">ä¾†è‡ªï¼š${result.era}</p>

                        <!-- å½±åƒå±•ç¤ºï¼šç„¡é®æ“‹ -->
                        <div class="relative w-full aspect-[4/5] bg-white rounded-[2rem] overflow-hidden shadow-2xl border border-slate-100 mb-8">
                            <div id="image-loader" class="absolute inset-0 flex flex-col items-center justify-center bg-slate-50">
                                <div class="w-10 h-10 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin"></div>
                                <p class="mt-4 text-xs font-bold text-slate-400">æ™‚ç©ºå‚³é€ä¸­...</p>
                            </div>
                        </div>

                        <!-- æª”æ¡ˆå¡ç‰‡ -->
                        <div class="text-left space-y-6">
                            <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50">
                                <h4 class="font-black text-slate-900 mb-3 flex items-center gap-2">
                                    <span class="text-orange-500 text-xl">âœ¨</span> è§’è‰²ç‰¹è³ª
                                </h4>
                                <p class="text-slate-500 text-sm leading-relaxed">${result.description}</p>
                            </div>

                            <div class="bg-orange-500 p-6 rounded-[2rem] text-white shadow-xl shadow-orange-200">
                                <h4 class="font-black mb-3 flex items-center gap-2">
                                    <span>ğŸ‘”</span> æ¨è–¦ç©¿æ­æ¸…å–®
                                </h4>
                                <p class="text-orange-50 text-sm leading-relaxed font-medium">${result.outfit}</p>
                            </div>

                            <div class="bg-slate-900 p-8 rounded-[2rem] text-white">
                                <h4 class="font-black text-xl mb-2">2026 ç«æ˜Ÿæ˜¥é…’</h4>
                                <p class="text-slate-400 text-xs mb-6">ğŸ“… 3.14 SAT 18:00 | ğŸ“ æ½®æ¸¯åŸåœ‹éš›ç¾é£Ÿé¤¨</p>
                                <a href="https://forms.gle/6bon5Vi8sEkkQUi48" target="_blank" class="block w-full py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-xl text-center font-black text-lg transition-all shadow-lg">
                                    ç«‹å³å ±åé ˜ç (02/08æ­¢)
                                </a>
                                <button onclick="reset()" class="w-full mt-4 text-slate-500 text-[10px] font-bold uppercase tracking-widest">
                                    é‡æ–°åŒ¹é…ä¸åŒæ™‚ç©º
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                generateImage(result.imagePrompt);
            }
        }

        function startQuiz() { state.step = 'quiz'; render(); }

        function handleAnswer(trait) {
            state.answers.push(trait);
            if (state.currentQuestion < questions.length - 1) {
                state.currentQuestion++;
            } else {
                calculateFinalResult();
            }
            render();
        }

        function calculateFinalResult() {
            const counts = state.answers.reduce((acc, t) => { acc[t] = (acc[t] || 0) + 1; return acc; }, {});
            const topTrait = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
            
            // éš¨æ©Ÿé¸ä¸€å€‹å¹´ä»£
            const eraList = eras[topTrait];
            const selectedEra = eraList[Math.floor(Math.random() * eraList.length)];
            
            const traitTitles = {
                academic: "åšå­¸æ™ºå¤šæ˜Ÿ",
                sporty: "ç†±è¡€é¬¥é­‚",
                social: "é­…åŠ›é¢¨é›²å…’",
                artistic: "æµªæ¼«è—è¡“å®¶"
            };

            const traitDescs = {
                academic: "ä½ æ“æœ‰å“è¶Šçš„é‚è¼¯èˆ‡æ±‚çŸ¥æ…¾ï¼Œç„¡è«–åœ¨ä»»ä½•å¹´ä»£ï¼Œä½ éƒ½æ˜¯å¼•é ˜æ–‡æ˜é€²æ­¥çš„æ™ºè€…ã€‚",
                sporty: "ä½ çš„èƒ½é‡èˆ‡å‹‡æ°£æ°¸ç„¡æ­¢ç›¡ï¼Œé‹å‹•å ´ä¸Šçš„æ¯ä¸€æ»´æ±—æ°´éƒ½æ˜¯ä½ é’æ˜¥çš„å‹³ç« ã€‚",
                social: "ä½ å¤©ç”Ÿå…·æœ‰å¸å¼•çœ¾äººçš„é­…åŠ›ï¼Œåœ¨å“ªè£¡éƒ½èƒ½æˆç‚ºç¤¾äº¤æ ¸å¿ƒï¼Œç‚ºå‘¨é­å¸¶ä¾†å¿«æ¨‚ã€‚",
                artistic: "ä½ å°ç¾æ„Ÿèˆ‡æƒ…æ„Ÿæœ‰è‘—ç¨åˆ°çš„è¦‹è§£ï¼Œå…§å¿ƒç´°è†©ä¸”å……æ»¿è±å¯Œçš„æƒ³åƒåŠ›ã€‚"
            };

            state.finalResult = {
                title: traitTitles[topTrait],
                description: traitDescs[topTrait],
                era: selectedEra.era,
                outfit: selectedEra.outfit,
                imagePrompt: selectedEra.prompt
            };
            state.step = 'result';
        }

        async function generateImage(prompt) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { responseModalities: ['TEXT', 'IMAGE'] }
                    })
                });
                const data = await response.json();
                const base64 = data.candidates?.[0]?.content?.parts?.find(p => p.inlineData)?.inlineData?.data;
                if (base64) {
                    const loader = document.getElementById('image-loader');
                    loader.innerHTML = `<img src="data:image/png;base64,${base64}" class="w-full h-full object-cover fade-in" alt="Outfit Result">`;
                }
            } catch (e) {
                document.getElementById('image-loader').innerHTML = `<p class="p-8 text-slate-400 text-sm font-bold">å½±åƒç”Ÿæˆä¸­ï¼Œè«‹ç¨å€™æˆ–é‡æ•´å†è©¦</p>`;
            }
        }

        function reset() {
            state = { step: 'welcome', currentQuestion: 0, answers: [], finalResult: null };
            render();
        }

        render();
    </script>
</body>
</html>
