<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«æ˜Ÿå•†åœˆ 2026 æ˜¥é…’ - æ™‚ç©ºæ ¡åœ’æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .bg-grid {
            background-image: radial-gradient(#d1d5db 1px, transparent 1px);
            background-size: 24px 24px;
        }
        .fade-in { animation: fadeIn 0.8s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .result-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); }
    </style>
</head>
<body class="bg-grid min-h-screen flex flex-col items-center p-4 md:p-10 text-slate-800">

    <div id="app" class="max-w-xl w-full result-card rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/50">
        <!-- é€²åº¦æ¢ -->
        <div id="progress-container" class="w-full h-1.5 bg-slate-200 hidden">
            <div id="progress-bar" class="h-full bg-orange-500 transition-all duration-500" style="width: 0%"></div>
        </div>

        <div id="content-area" class="p-8 md:p-12">
            <!-- åˆå§‹å…§å®¹å°‡ç”± JavaScript æ³¨å…¥ -->
        </div>
    </div>

    <div id="bottom-info" class="mt-6 text-center text-slate-400 text-xs font-bold space-y-1">
        <p>ç«æ˜Ÿå•†åœˆ 2026 æ˜¥é…’æ´¾å° ğŸ“… 2026 / 3 / 14 (å…­)</p>
        <p>åœ°é»ï¼šæ½®æ¸¯åŸåœ‹éš›ç¾é£Ÿé¤¨</p>
    </div>

    <script>
        /**
         * è«‹åœ¨æ­¤å¡«å…¥æ‚¨çš„ OpenAI API Key (é€šå¸¸ä»¥ sk- é–‹é ­)
         */
        const apiKey = "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"; 

        let state = {
            step: 'welcome',
            currentQuestion: 0,
            answers: [],
            finalResult: null
        };

        const questions = [
            {
                text: "å¦‚æœèƒ½é¸æ“‡ä¸€å€‹è¶…èƒ½åŠ›ä¾†åº¦éæ ¡åœ’ç”Ÿæ´»ï¼Œä½ æœƒé¸ï¼Ÿ",
                options: [
                    { text: "éç›®ä¸å¿˜çš„è¨˜æ†¶åŠ›", trait: "academic" },
                    { text: "ç¬é–“ç§»å‹•ï¼ˆå¾ä¸é²åˆ°ï¼‰", trait: "sporty" },
                    { text: "è®€å¿ƒè¡“ï¼ˆç¤¾äº¤åœˆçš„è®€å¿ƒå¤§å¸«ï¼‰", trait: "social" },
                    { text: "å…·ç¾åŒ–æƒ³åƒåŠ›çš„ç¥å¥‡ç•«ç­†", trait: "artistic" }
                ]
            },
            {
                text: "æ ¡åœ’ç¥­å…¸å³å°‡åˆ°ä¾†ï¼Œä½ é€šå¸¸æ“”ä»»ä»€éº¼è§’è‰²ï¼Ÿ",
                options: [
                    { text: "ä¼åŠƒæ§ç®¡èˆ‡é ç®—å¯©æ ¸", trait: "academic" },
                    { text: "æ¬é‹å™¨æèˆ‡ç†±è¡€ä½ˆç½®", trait: "sporty" },
                    { text: "èˆå°ä¸»æŒæˆ–è¡¨æ¼”ç„¦é»", trait: "social" },
                    { text: "è¦–è¦ºè¨­è¨ˆèˆ‡ç¾æ„Ÿç›£ç£", trait: "artistic" }
                ]
            },
            {
                text: "ä¸‹èª²æ™‚é–“ï¼Œåœ¨å“ªå€‹æ ¡åœ’è§’è½æœ€å®¹æ˜“æ‰¾åˆ°ä½ ï¼Ÿ",
                options: [
                    { text: "å……æ»¿æ›¸é¦™çš„åœ–æ›¸é¤¨è§’è½", trait: "academic" },
                    { text: "æ®ç‘æ±—æ°´çš„ç±ƒçƒå ´é‚Š", trait: "sporty" },
                    { text: "ç¬‘è²ä¸æ–·çš„ç¦åˆ©ç¤¾é–€å£", trait: "social" },
                    { text: "å®‰éœç¥ç§˜çš„ç¤¾åœ˜å·¥ä½œå®¤", trait: "artistic" }
                ]
            },
            {
                text: "é¢å°çªå¦‚å…¶ä¾†çš„æŠ½è€ƒï¼Œä½ çš„ç›´è¦ºåæ‡‰æ˜¯ï¼Ÿ",
                options: [
                    { text: "æ²’å•é¡Œï¼Œé‡é»éƒ½åœ¨è…¦è¢‹è£¡äº†", trait: "academic" },
                    { text: "æƒ³è‘—ç­‰ä¸€ä¸‹ç·´çƒçš„æˆ°è¡“", trait: "sporty" },
                    { text: "è½‰é ­å•åŒå­¸æœ‰æ²’æœ‰é‡é»", trait: "social" },
                    { text: "åœ¨èª²æœ¬ç©ºç™½è™•ç•«èµ·æ’ç•«", trait: "artistic" }
                ]
            },
            {
                text: "ä½ æœ€æƒ³åƒåŠ å“ªç¨®é¢¨æ ¼çš„æ ¡å¤–æ•™å­¸ï¼Ÿ",
                options: [
                    { text: "æ­·å²å¤è¹Ÿèˆ‡åæ ¡å·¡ç¦®", trait: "academic" },
                    { text: "æŒ‘æˆ°è‡ªæˆ‘çš„å±±æ—å¤§å†’éšª", trait: "sporty" },
                    { text: "å……æ»¿é©šå–œçš„å¤§å‹ä¸»é¡Œæ¨‚åœ’", trait: "social" },
                    { text: "å¯Œæœ‰æ–‡è—æ°£æ¯çš„æ­æ´²å°é®", trait: "artistic" }
                ]
            }
        ];

        const eras = {
            academic: [
                { era: "å¤ä»£äºæ´²æ›¸é™¢", outfit: "å‚³çµ±è—ç™½è‰²æ¼¢æœå­¸å­æœã€ç¶¸å·¾ã€ç«¹ç°¡é…é£¾ã€‚å±•ç¾å„’é›…æ–‡äººæ°£æ¯ã€‚", keyword: "ancient-chinese-scholar", prompt: "A cinematic photorealistic portrait of a stylish young male student in ancient China, wearing premium light blue Hanfu academic robes, holding a bamboo scroll, historical academy courtyard, soft natural lighting, 8k resolution." },
                { era: "1920s è‹±åœ‹åŠæ©‹èè‹±", outfit: "ç²—èŠ±å‘¢è¥¿è£å¤–å¥—ã€é‡ç¹”èƒŒå¿ƒã€æ‡·éŒ¶ã€åœ“æ¡†çœ¼é¡ã€‚è‹±å€«ç´³å£«å­¸è¡“æ„Ÿã€‚", keyword: "oxford-student-1920s", prompt: "A hyper-realistic 1920s British university student portrait, tweed suit, wool sweater vest, round eyeglasses, dark trousers, classic stone university architecture, elegant academic atmosphere, 8k." },
                { era: "è¿‘æœªä¾† è³½åšæ ¡åœ’", outfit: "æ©Ÿèƒ½é¢¨éŠ€ç™½åˆ¶æœã€å¾®å…‰ç§‘æŠ€é…é£¾ã€é€æ˜å¹³ç‰ˆã€‚ç¾ä»£å­¸éœ¸æ„Ÿã€‚", keyword: "cyberpunk-future-student", prompt: "A realistic futuristic high school student, sleek tech-wear uniform, subtle neon glowing details, digital holographic pad, sci-fi high-tech classroom, high fashion photography, sharp detail." }
            ],
            sporty: [
                { era: "1980s ç¾å¼ç†±è¡€æ ¡éšŠ", outfit: "ç¶“å…¸é»ƒè—è‰²æ£’çƒå¤–å¥—ã€é«˜ç­’ç™½è¥ªã€å¾©å¤è·‘é‹ã€‚å±•ç¾é™½å…‰æ´»åŠ›ã€‚", keyword: "80s-varsity-athlete", prompt: "A photorealistic 1980s American high school student wearing a blue and yellow varsity jacket, classic gym locker background, retro aesthetic, warm sunlight, realistic skin textures, 8k." },
                { era: "å¤§æ­£æµªæ¼« åŠé“ç¤¾", outfit: "æ·±è‰²è¢´ï¼ˆHakamaï¼‰ã€ç™½è¥¯è¡«ã€ç«¹åŠã€æ‰‹å·¾ã€‚æ­¦å£«ç²¾ç¥èˆ‡é’æ˜¥èåˆã€‚", keyword: "taisho-kendo-student", prompt: "A stunning photorealistic portrait of a Taisho-era Japanese student, wearing Hakama and a white uniform shirt, holding a bamboo sword, cherry blossoms in background, sunset golden hour, 8k." },
                { era: "å¤å¸Œè‡˜ å¥§æ—åŒ¹äºå­¸é™¢", outfit: "ç´”ç™½äºéº»çŸ­è¢ã€æœˆæ¡‚å† ã€çš®é©æ¶¼é‹ã€‚åŸå§‹çš„é‹å‹•åŠ›é‡ç¾ã€‚", keyword: "ancient-greek-athlete", prompt: "A realistic ancient Greek academy athlete, wearing a simple white linen chiton and laurel wreath, marble column background, bright Mediterranean sunlight, cinematic 8k." }
            ],
            social: [
                { era: "90s æµè¡Œå°–ç«¯æ ¡åœ’å¶åƒ", outfit: "æ ¼ç´‹ç™¾è¤¶è£™ã€å¯¬é¬†é€£å¸½è¡«ã€å¤§å‹å…¨ç½©è€³æ©Ÿã€å½©è‰²å¸†å¸ƒé‹ã€‚", keyword: "90s-teen-fashion", prompt: "A photorealistic 1990s cool student, colorful oversized hoodie, baggy street fashion, chunky sneakers, bright backpack, school corridor with posters, vibrant film look, 8k." },
                { era: "ç¶­å¤šåˆ©äº è²´æ—åæ ¡", outfit: "ç²¾ç·»å¤©éµçµ¨å¤–å¥—ã€è•¾çµ²é ˜å£ã€çµ²çµ¨å¸½ã€‚æ¥µè‡´çš„ç¤¾äº¤å„ªé›…èˆ‡è²´æ°£ã€‚", keyword: "victorian-elite-student", prompt: "A high-end realistic portrait of a Victorian elite school student, velvet navy blazer, lace collar, elegant velvet hat, grand ballroom background, classical oil painting lighting, 8k." },
                { era: "ç¾ä»£ åŸå®¿è¡—é ­æ ¡åœ’", outfit: "å‰è¡›é£¾å“ã€æ··æ­åˆ¶æœå¤–å¥—ã€å¤šå±¤æ¬¡ç©¿æ­ã€åšåº•é¦¬æ±€é‹ã€‚", keyword: "harajuku-school-style", prompt: "A trendy Harajuku student, modified school uniform with neon pins and accessories, Tokyo street background at night, neon sign bokeh, high fashion editorial style, 8k." }
            ],
            artistic: [
                { era: "æ–‡è—å¾©èˆˆ ç•«å®¤å­¸å¾’", outfit: "å¯¬é¬†äºéº»è¡«ã€ç•«å®¶å¸½ã€åœè£™ã€‚å……æ»¿è—è¡“éˆé­‚ã€‚", keyword: "renaissance-art-student", prompt: "A realistic portrait of a Renaissance art apprentice student, linen smock with oil paint stains, holding a wooden palette, classical studio filled with canvases, warm light, 8k." },
                { era: "1960s å¬‰çš®æ–‡è—ç³»", outfit: "å°èŠ±å–‡å­è¤²ã€ç´®æŸ“è¥¯è¡«ã€ç·¨ç¹”é«®å¸¶ã€‚è¿½æ±‚è‡ªç”±èˆ‡ç¾çš„éˆé­‚ã€‚", keyword: "60s-hippie-student", prompt: "A 1960s bohemian artistic student, tie-dye shirt, flared pants, headband, carrying a guitar, sunny campus park, vintage film aesthetic, 8k." },
                { era: "å·´é» æµªæ¼«æ–‡è—æ„Ÿ", outfit: "é•·ç‰ˆé¢¨è¡£ã€æ¢ç´‹è¡«ã€é»‘è‰²è²é›·å¸½ã€ç´ ææœ¬ã€‚å±•ç¾æ·±é‚ƒè—è¡“æ°£æ¯ã€‚", keyword: "parisian-student-artist", prompt: "A chic Parisian art student, trench coat, striped shirt, black beret, holding a sketchbook, Eiffel Tower in distant background, soft cinematic morning light, 8k." }
            ]
        };

        async function generateImage(res) {
            const container = document.getElementById('image-loader');
            const promptText = res.imagePrompt;
            const keyword = res.keyword;
            
            if (!apiKey || apiKey.trim() === "") {
                useFallbackStockImage(container, keyword);
                return;
            }

            // ç¬¬ä¸€å±¤ï¼šOpenAI DALL-E 3 (æœ€ä½³æ•ˆæœ)
            try {
                const response = await fetch(`https://api.openai.com/v1/images/generations`, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({ 
                        model: "dall-e-3",
                        prompt: promptText + ", photorealistic, extremely detailed, human features",
                        n: 1,
                        size: "1024x1024",
                        quality: "standard"
                    })
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.data?.[0]?.url) {
                        displayFinalImage(container, result.data[0].url);
                        return;
                    }
                }
            } catch (e) { console.warn("DALL-E 3 failed, trying DALL-E 2..."); }

            // ç¬¬äºŒå±¤ï¼šOpenAI DALL-E 2 (å‚™æ´æ–¹æ¡ˆ)
            try {
                const response = await fetch(`https://api.openai.com/v1/images/generations`, {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({ 
                        model: "dall-e-2",
                        prompt: promptText,
                        n: 1,
                        size: "512x512"
                    })
                });
                
                if (response.ok) {
                    const result = await response.json();
                    if (result.data?.[0]?.url) {
                        displayFinalImage(container, result.data[0].url);
                        return;
                    }
                }
            } catch (e) { console.warn("OpenAI failed completely, using Stock Image..."); }

            // ç¬¬ä¸‰å±¤ï¼šè‡ªå‹•åœ–åº«å‚™æ´ (Unsplash/Picsum)
            useFallbackStockImage(container, keyword);
        }

        function displayFinalImage(container, src) {
            container.innerHTML = `<img src="${src}" class="w-full h-full object-cover fade-in" alt="Result">`;
        }

        function useFallbackStockImage(container, keyword) {
            const seed = Math.floor(Math.random() * 1000);
            const dynamicStockUrl = `https://picsum.photos/seed/${keyword}-${seed}/800/1000`;
            
            container.innerHTML = `
                <img src="${dynamicStockUrl}" class="w-full h-full object-cover fade-in" alt="Outfit Suggestion">
                <div class="absolute top-2 right-2 bg-black/50 text-white text-[8px] px-2 py-0.5 rounded-full">å‚™æ´å½±åƒ</div>
            `;
        }

        function render() {
            const content = document.getElementById('content-area');
            const progress = document.getElementById('progress-container');
            const progressBar = document.getElementById('progress-bar');

            if (state.step === 'welcome') {
                content.innerHTML = `
                    <div class="text-center fade-in">
                        <div class="w-24 h-24 bg-orange-100 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-inner">
                            <span class="text-5xl">ğŸ“</span>
                        </div>
                        <h1 class="text-4xl font-black text-slate-900 mb-2 tracking-tighter">ç«æ˜Ÿæ˜¥é…’ 2026</h1>
                        <h2 class="text-xl text-orange-600 font-bold mb-8">æ™‚ç©ºæ ¡åœ’ãƒ»è¿”æ ¡æ—¥æ¸¬é©—</h2>
                        <div class="bg-white/50 rounded-3xl p-6 text-left mb-10 border border-slate-100 text-slate-500 leading-relaxed text-sm">
                            å„ä½ç«æ˜Ÿå•†åœˆçš„æœ‹å‹å€‘ï¼ä¸Šèª²é˜éŸ¿äº†ã€‚åœ¨ 3/14 æ˜¥é…’æ´¾å°å‰ï¼Œè®“ OpenAI å¸¶ä½ ç©¿è¶Šæ™‚ç©ºï¼Œæ‰¾å‡ºæœ€é©åˆä½ çš„æ ¡åœ’ç©¿æ­éˆé­‚ã€‚
                        </div>
                        <button onclick="startQuiz()" class="w-full py-5 bg-orange-500 hover:bg-orange-600 text-white rounded-3xl font-black text-xl shadow-xl hover:-translate-y-1 transition-all">
                            é–‹å§‹åŒ¹é…æ™‚ç©º
                        </button>
                    </div>
                `;
            } else if (state.step === 'quiz') {
                progress.classList.remove('hidden');
                const q = questions[state.currentQuestion];
                progressBar.style.width = `${((state.currentQuestion + 1) / questions.length) * 100}%`;
                content.innerHTML = `
                    <div class="fade-in">
                        <p class="text-xs font-black text-orange-500 mb-2 tracking-widest">CHAPTER 0${state.currentQuestion + 1}</p>
                        <h3 class="text-2xl font-black text-slate-800 mb-10 leading-tight">${q.text}</h3>
                        <div class="space-y-4">
                            ${q.options.map(opt => `
                                <button onclick="handleAnswer('${opt.trait}')" class="w-full text-left p-6 rounded-3xl border-2 border-slate-100 hover:border-orange-500 hover:bg-orange-50 transition-all font-bold text-lg text-slate-600 flex justify-between items-center group">
                                    ${opt.text} <span class="opacity-0 group-hover:opacity-100 text-orange-500">â†’</span>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (state.step === 'result') {
                progress.classList.add('hidden');
                const res = state.finalResult;
                content.innerHTML = `
                    <div class="fade-in text-center">
                        <span class="text-xs font-black bg-slate-900 text-white px-4 py-1 rounded-full uppercase tracking-widest">ç³»çµ±åµæ¸¬çµæœ</span>
                        <h3 class="text-4xl font-black text-slate-900 mt-6 mb-2">${res.title}</h3>
                        <p class="text-orange-600 font-bold text-lg mb-8 italic">ç©¿è¶Šæ™‚ç©ºï¼š${res.era}</p>
                        
                        <div class="relative w-full aspect-[4/5] bg-white rounded-[2.5rem] overflow-hidden shadow-2xl border border-slate-100 mb-8">
                            <div id="image-loader" class="absolute inset-0 flex flex-col items-center justify-center bg-slate-50">
                                <div class="w-12 h-12 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin"></div>
                                <p class="mt-4 text-xs font-bold text-slate-400">OpenAI æ­£åœ¨ç¹ªè£½æ™‚ç©ºå½±åƒ...</p>
                            </div>
                        </div>

                        <div class="text-left space-y-4">
                            <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-50">
                                <h4 class="font-black text-slate-900 mb-2">âœ¨ è§’è‰²ç‰¹è³ª</h4>
                                <p class="text-slate-500 text-sm leading-relaxed">${res.description}</p>
                            </div>
                            <div class="bg-orange-500 p-6 rounded-3xl text-white shadow-xl shadow-orange-200">
                                <h4 class="font-black mb-2 italic">ğŸ‘” ç©¿æ­æŒ‡å—</h4>
                                <p class="text-orange-50 text-sm leading-relaxed font-medium">${res.outfit}</p>
                            </div>
                            <div class="bg-slate-900 p-8 rounded-[2.5rem] text-white">
                                <h4 class="font-black text-xl mb-1 italic">ç«æ˜Ÿæ˜¥é…’ 2026</h4>
                                <p class="text-slate-400 text-[10px] mb-6 tracking-widest">æ½®æ¸¯åŸåœ‹éš›ç¾é£Ÿé¤¨ | 3/14 18:00</p>
                                <a href="https://forms.gle/6bon5Vi8sEkkQUi48" target="_blank" class="block w-full py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-xl text-center font-black text-lg transition-all shadow-lg">ç«‹å³å ±å</a>
                                <button onclick="reset()" class="w-full mt-4 text-slate-500 text-[10px] font-bold uppercase tracking-widest hover:text-white transition-colors">é‡æ–°æ¸¬é©—</button>
                            </div>
                        </div>
                    </div>
                `;
                generateImage(res);
            }
        }

        function startQuiz() { state.step = 'quiz'; render(); }
        
        function handleAnswer(trait) {
            state.answers.push(trait);
            if (state.currentQuestion < questions.length - 1) {
                state.currentQuestion++;
            } else {
                const counts = state.answers.reduce((acc, t) => { acc[t] = (acc[t] || 0) + 1; return acc; }, {});
                const topTrait = Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
                const eraList = eras[topTrait];
                const selectedEra = eraList[Math.floor(Math.random() * eraList.length)];
                
                state.finalResult = {
                    title: { academic: "åšå­¸æ™ºå¤šæ˜Ÿ", sporty: "ç†±è¡€é¬¥é­‚", social: "é­…åŠ›é¢¨é›²å…’", artistic: "æµªæ¼«è—è¡“å®¶" }[topTrait],
                    description: { academic: "ä½ æ“æœ‰å“è¶Šçš„é‚è¼¯ï¼Œç„¡è«–ä»»ä½•å¹´ä»£ï¼Œä½ éƒ½æ˜¯å¼•é ˜æ–‡æ˜çš„æ™ºè€…ã€‚", sporty: "ä½ çš„èƒ½é‡ç„¡æ­¢ç›¡ï¼Œé‹å‹•å ´ä¸Šçš„æ¯ä¸€æ»´æ±—æ°´éƒ½æ˜¯é’æ˜¥å‹³ç« ã€‚", social: "ä½ å¤©ç”Ÿå…·æœ‰å¸ç›é­…åŠ›ï¼Œåœ¨å“ªè£¡éƒ½èƒ½æˆç‚ºç¤¾äº¤æ ¸å¿ƒã€‚", artistic: "ä½ å°ç¾æ„Ÿæœ‰ç¨åˆ°è¦‹è§£ï¼Œå…§å¿ƒç´°è†©ä¸”å……æ»¿è±å¯Œæƒ³åƒåŠ›ã€‚" }[topTrait],
                    era: selectedEra.era, 
                    outfit: selectedEra.outfit, 
                    keyword: selectedEra.keyword,
                    imagePrompt: selectedEra.prompt
                };
                state.step = 'result';
            }
            render();
        }
        
        function reset() { 
            state = { step: 'welcome', currentQuestion: 0, answers: [], finalResult: null }; 
            render(); 
        }
        
        render();
    </script>
</body>
</html>
